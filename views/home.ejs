<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/home.css">
<script src='https://api.mapbox.com/mapbox-gl-js/v2.1.1/mapbox-gl.js'></script>
<link href='https://api.mapbox.com/mapbox-gl-js/v2.1.1/mapbox-gl.css' rel='stylesheet' />
<link rel="preconnect" href="https://fonts.gstatic.com">
<!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous"> -->
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;300&display=swap" rel="stylesheet">

    <title>WeatherMap</title>
</head>
<body>
    <!-- <%{%> console.log("Hi") <%}%> -->

    <form action="/" method="POST">
        <input name="location" id="ip" autocomplete="off" placeholder="Search here.."> 
      
    </form>
    <div class="details" style="width: 50%; position: absolute; left: 25%; top: 13%; height: 200px;">
        <div>
            
            <h1 style="font-family: 'Montserrat', sans-serif; color: rgba(13, 126, 13, 0.911); font-size: 40px; margin-top:10% ;" ><%=data.tempC%> <sup><span style='font-size:100px; font-size: 15px;'>&#8451;</span></sup></h1> 
            <h2 style="font-family: 'Montserrat', sans-serif; color: rgba(13, 126, 13, 0.911); font-size: 25px; font-weight: 300;"><%=data.condition%></h2> 
        </div>
        
        <div>
            <h1 style="font-family: 'Montserrat', sans-serif; color: rgba(13, 126, 13, 0.911); font-size: 30px; margin-top: 10%;" ><%=data.locName%> ,</h1> 
            <h1 style="font-family: 'Montserrat', sans-serif; color: rgba(13, 126, 13, 0.911); font-size:30px; font-weight: 300;"><%=data.locRegion%></h1>  
        </div>
    </div>
    <div id='map' style='width: 50%; height: 270px;  position: absolute; bottom: 20px; left: 25%; margin: auto; border-radius: 2%;'></div>
    <span id="lon" style="display: none;"><%= locs[0] %> </span>
    <span id="lat" style="display: none;"><%= locs[1] %> </span>
    <script>
    let lon=document.querySelector('#lon').textContent;
    let lat=document.querySelector('#lat').textContent;
    // console.log("youo",lon,lat);
    mapboxgl.accessToken = 'pk.eyJ1IjoiYXJjaGl0amluZGFsIiwiYSI6ImNqemg3NjV2aTA1ZDIzY283OXVpN2p4dGQifQ.XXdELGsiMMBkctDhThEooQ';
    var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/architjindal/ckggtk1yu0rvk19mo7tzlwj5o',
    center: [lon,lat],  //long,lat
    zoom: 9
    //
    });
    </script>

</body>
</html>